<div class="container" style="margin-top: 100px;">
  <h1 style="font-size: 2.5rem;">Tất cả khóa học</h1>
    <table class="table" style="font-size: 2rem;">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Tên khóa học</th>
      <th scope="col">Phân loại khóa học</th>
      <th scope="col">Trình độ</th>
      <th scope="col">Thể loại</th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
      {{#each items}}
    <tr>
      <th scope="row">{{sum @index 1}}</th>
      <td>{{this.name}}</td>
      <td>{{this.slug}}</td>
      <td>{{this.level}}</td>
      <td>{{this.type}}</td>
      <td>
        <a href="/courses/{{this._id}}/update">
          <i class="fas fa-pencil-alt"></i>
        </a>
      </td>
      <td>
        <i class="fas fa-trash-alt" id = {{this._id}} onclick="dele(id)" style="cursor: pointer;"></i>
          {{!-- <span class="" id = {{this._id}} onclick="dele(id)"  style="color: #007bff; cursor: pointer"> Xóa</span> --}}
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>
</div>

<form name = "delete-form" method="POST"></form>
<script>
  function dele(id) {
    Swal.fire({
      title: "Xóa khóa học?",
      icon: "question",
      confirmButtonText: 'Xóa',
      showCancelButton: true,
      cancelButtonText: "Hủy",
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33'
      
      }).then((result) => {
          if (result.isConfirmed) {
              //var id = button.data('id');
              var deleteForm = document.forms['delete-form'];
              deleteForm.action = '/courses/' + id +'?_method=DELETE';
              deleteForm.submit();
          }
      })  

  }
</script>